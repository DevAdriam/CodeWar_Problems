let jsonLocationArr: number[] = [
  16.7824103, 96.1856351, 16.7823806, 96.1859689, 16.7823626, 96.1862297,
  16.7821437, 96.1868721, 16.7817934, 96.1875255, 16.7816204, 96.1878296,
  16.7813063, 96.1884081, 16.7810123, 96.1889236, 16.7808493, 96.1892101,
  16.7806009, 96.1896689, 16.7803297, 96.1901978, 16.7801638, 96.1904923,
  16.7798268, 96.191109, 16.7794896, 96.1917454, 16.7793289, 96.1920639,
  16.7790459, 96.1926164, 16.7787518, 96.1931712, 16.778633, 96.193402,
  16.7783773, 96.1938513, 16.7780924, 96.1943716, 16.7779678, 96.1946261,
  16.7777313, 96.1950832, 16.7775123, 96.1954745, 16.7774304, 96.1956276,
  16.7772375, 96.1960531, 16.7769129, 96.1966559, 16.7767365, 96.1969799,
  16.7763733, 96.1976491, 16.7759486, 96.1983766, 16.7757321, 96.1987698,
  16.7752696, 96.1995992, 16.7748451, 96.2004426, 16.7747062, 96.2008162,
  16.7748165, 96.2014996, 16.7755094, 96.2017009, 16.7758997, 96.2017912,
  16.7767176, 96.202018, 16.7774893, 96.2022304, 16.7778514, 96.2023188,
  16.7786395, 96.2025378, 16.7794475, 96.2027684, 16.7797719, 96.202857,
  16.7804569, 96.2030877, 16.7812397, 96.2034758, 16.7816115, 96.2036916,
  16.7822804, 96.2040439, 16.7830335, 96.2041033, 16.7834465, 96.2041124,
  16.78437, 96.2041869, 16.7853573, 96.2043724, 16.785864, 96.2045559,
  16.7868988, 96.2049676, 16.7878923, 96.2053653, 16.7883795, 96.2055554,
  16.7892074, 96.2058778, 16.7899856, 96.2062022, 16.7903701, 96.2063449,
  16.7911215, 96.2066562, 16.791593, 96.2069724, 16.7916233, 96.2072327,
  16.7915271, 96.2079245, 16.7913994, 96.2087557, 16.7913395, 96.2091765,
  16.7911809, 96.2100937, 16.7910379, 96.2109406, 16.7909861, 96.2112869,
  16.7908982, 96.2119897, 16.7908059, 96.2127712, 16.7907544, 96.2131668,
  16.7906651, 96.2139726, 16.7905562, 96.2148282, 16.7905073, 96.215258,
  16.7904746, 96.2161312, 16.7906918, 96.2169736, 16.7908917, 96.2173554,
  16.7913271, 96.2179722, 16.7917031, 96.2183836, 16.7918805, 96.2185393,
  16.7922422, 96.2188163, 16.7927143, 96.2191569, 16.7929714, 96.2193441,
  16.7932953, 96.2195654, 16.7935188, 96.2197105, 16.7936352, 96.2197936,
  16.7938831, 96.2199636, 16.79419, 96.2201761, 16.7944046, 96.220347,
  16.7949515, 96.2207385, 16.7955739, 96.2211926, 16.7958941, 96.2214209,
  16.7964622, 96.2218661, 16.7967265, 96.2220927, 16.7968157, 96.2221555,
  16.7971462, 96.222435, 16.797455, 96.2227467, 16.7976234, 96.2229012,
  16.7978814, 96.2231186, 16.7980378, 96.2232556, 16.7980378, 96.2232556,
  16.7983049, 96.2235012, 16.7986506, 96.2237924, 16.798861, 96.2239821,
  16.7993429, 96.224446, 16.7998938, 96.2249524, 16.8001424, 96.2251803,
  16.8005109, 96.2255063, 16.8006032, 96.2255989, 16.8006032, 96.2255989,
  16.8006032, 96.2255989, 16.8006032, 96.2255989, 16.8006032, 96.2255989,
  16.8006032, 96.2255989, 16.8006032, 96.2255989, 16.8006032, 96.2255989,
  16.8010217, 96.2258623, 16.8016535, 96.2260146, 16.8019942, 96.2260715,
  16.8027469, 96.2261482, 16.8035663, 96.2260853, 16.803965, 96.2259916,
  16.8045374, 96.2258202, 16.8047347, 96.2258822, 16.804806, 96.2259523,
  16.8048852, 96.2261154, 16.8050952, 96.2265881, 16.8053749, 96.2271265,
  16.8055061, 96.2274022, 16.8058265, 96.2279725, 16.8061499, 96.2286113,
  16.8063226, 96.228956, 16.8065764, 96.2296728, 16.8066899, 96.2303241,
  16.8067285, 96.2306804, 16.8068221, 96.2314168, 16.8068999, 96.2321548,
  16.8069434, 96.2324966, 16.8070222, 96.2332328, 16.8071754, 96.2340435,
  16.807264, 96.2344545, 16.807434, 96.2352536, 16.8076118, 96.2360092,
  16.8076792, 96.2363221, 16.807816, 96.2369383, 16.8079837, 96.2376768,
  16.8080674, 96.2380994, 16.8082504, 96.2389637, 16.8087171, 96.2396519,
  16.8090392, 96.2399341, 16.8096853, 96.2404839, 16.8103549, 96.2410698,
  16.810688, 96.2413723, 16.8113738, 96.2419693, 16.812115, 96.2426088,
  16.812509, 96.2429291, 16.8134863, 96.2432788, 16.8144943, 96.2435931,
  16.8150106, 96.2437596, 16.8160388, 96.2440956, 16.8170019, 96.2443959,
  16.8174232, 96.2445315, 16.8182735, 96.2448105, 16.8190949, 96.2450685,
  16.819457, 96.2451896, 16.8201748, 96.2454169, 16.8208765, 96.245643,
  16.8212184, 96.245744, 16.8219049, 96.2459561, 16.822687, 96.2462027,
  16.8230858, 96.246324, 16.8238745, 96.2466235, 16.8247064, 96.2468827,
  16.8251098, 96.247009, 16.8258726, 96.2472483, 16.8263715, 96.2474251,
  16.826466, 96.2474734, 16.8264446, 96.2478146, 16.826264, 96.2483722,
  16.8261728, 96.2486674, 16.8259839, 96.2492996, 16.8257657, 96.2500171,
  16.8256493, 96.2504083, 16.8254143, 96.251267, 16.8251517, 96.2521545,
  16.825025, 96.2525844, 16.8247714, 96.2534617, 16.8245021, 96.2543266,
  16.8243682, 96.2547493, 16.8241176, 96.2556173, 16.8238622, 96.2564487,
  16.823732, 96.2568507, 16.8234969, 96.2576343, 16.8232919, 96.2583681,
  16.8231815, 96.2587269, 16.8229681, 96.2594464, 16.8227494, 96.260185,
  16.8226357, 96.2605568, 16.8224447, 96.2611827, 16.8223208, 96.2616437,
  16.8222781, 96.2618185, 16.8225158, 96.2620221, 16.8229886, 96.2621647,
  16.8232251, 96.2622403, 16.823716, 96.2623823, 16.8242839, 96.262552,
  16.8245527, 96.2626431, 16.825012, 96.2627774, 16.8255512, 96.2629421,
  16.8258174, 96.2630082, 16.8263641, 96.2631739, 16.8269649, 96.2633773,
  16.8272323, 96.2634589, 16.8276374, 96.2635735, 16.8280471, 96.2636789,
  16.8282795, 96.2637488, 16.8288646, 96.2639121, 16.8295539, 96.2641469,
  16.8299134, 96.264262, 16.8306328, 96.264492, 16.8312456, 96.2646904,
  16.8314497, 96.2647396, 16.8318518, 96.2648681, 16.8319782, 96.2649229,
  16.8319782, 96.2649229, 16.8321241, 96.2649672, 16.832224, 96.2649888,
  16.832224, 96.2649888, 16.832303, 96.2652071, 16.8321812, 96.2656272,
  16.8321196, 96.265831, 16.8319929, 96.2662975, 16.8318402, 96.2667833,
  16.8317776, 96.2670282, 16.8316593, 96.267487, 16.8317439, 96.268054,
  16.831823, 96.2683282, 16.8319719, 96.2688807, 16.8321136, 96.2694664,
  16.8321953, 96.2697785, 16.832341, 96.2703827, 16.8324866, 96.2709916,
  16.8325511, 96.2712668, 16.8324901, 96.2718354, 16.8323196, 96.2724798,
  16.8322365, 96.2728088, 16.8320851, 96.2734362, 16.8319815, 96.2738637,
  16.8319815, 96.2738637, 16.8317221, 96.2738826, 16.8315472, 96.2738288,
  16.8312928, 96.2737797, 16.8311781, 96.2737516, 16.8308776, 96.2736699,
  16.8306326, 96.2735901, 16.8305347, 96.2735786, 16.8303072, 96.273508,
  16.8302017, 96.2736442, 16.8302017, 96.2736442, 16.8301209, 96.2739782,
  16.8300438, 96.2743393, 16.8300438, 96.2743393, 16.8297471, 96.2743502,
  16.8296053, 96.2744294, 16.8295799, 96.2745562, 16.8295301, 96.2747788,
  16.8294584, 96.2750654, 16.8294248, 96.2752326, 16.8293602, 96.2753653,
];

let latLngArray: [number, number][] = [];

for (let i = 0; i < jsonLocationArr.length - 1; i++) {
  latLngArray.push([jsonLocationArr[i], jsonLocationArr[i + 1]]);
}

let totalDistance = 0;

function haversine(lat1: number, lon1: number, lat2: number, lon2: number) {
  // Converts latitude and longitude from degrees to radians
  const toRadians = (angle) => (angle * Math.PI) / 180;

  // Haversine formula
  const R = 6371; // Earth's radius in kilometers
  const dLat = toRadians(lat2 - lat1);
  const dLon = toRadians(lon2 - lon1);
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos(toRadians(lat1)) *
      Math.cos(toRadians(lat2)) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  const distance = R * c;

  return distance;
}

console.log(new Date().getMilliseconds());

for (let i = 0; i < latLngArray.length - 1; i++) {
  const [lat1, lon1] = latLngArray[i];
  const [lat2, lon2] = latLngArray[i + 1];
  totalDistance += haversine(lat1, lon1, lat2, lon2);
}

console.log(new Date().getMilliseconds());
console.log(`Total distance: ${totalDistance.toFixed(2)} kilometers`);
